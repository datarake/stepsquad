services:
  api:
    build: ./apps/api
    ports: ["8004:8004"]
    environment:
      COMP_TZ: Europe/Bucharest
      GRACE_DAYS: "2"
      GCP_ENABLED: "false"
      PORT: "8004"
  web:
    build: ./apps/web
    ports: ["5173:5173"]
    environment:
      VITE_API_BASE_URL: "http://localhost:8004"
    depends_on: [api]
  workers:
    build: ./apps/workers
    environment:
      GCP_ENABLED: "false"
      GOOGLE_CLOUD_PROJECT: StepSquad
      BQ_DATASET: stepsquad
      PUBSUB_SUB_INGEST: steps.ingest.sub
    depends_on: [api]
